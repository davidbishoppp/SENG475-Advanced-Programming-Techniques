#define CATCH_CONFIG_MAIN
#include <catch2/catch.hpp>

#include "../include/maze.hpp"
#include "../include/generator.hpp"

#include <ostream>
#include <istream>

using namespace maze;

TEST_CASE("output", "[maze]") {
    constexpr std::size_t m = 25;
    constexpr std::size_t n = 25;
    Maze maze(m, n);

    for (std::size_t i = 0; i < m; ++i) {
        for (std::size_t j = 0; j < n; ++j) {
            maze.remove_wall(i/2, j/2);
        }
    }

    std::stringstream ss;
    maze.output(ss);
    CHECK(ss.str() == "P1\n25 25\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n0000000000000111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n1111111111111111111111111\n");
}

